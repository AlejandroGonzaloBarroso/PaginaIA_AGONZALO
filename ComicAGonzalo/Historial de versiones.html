<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S-ØMBRA | Timeline Interactivo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --neon-red: #ff003c;
            --dark-bg: #050505;
        }

        body {
            background-color: var(--dark-bg);
            color: #e0e0e0;
            font-family: 'Rajdhani', sans-serif;
            overflow-x: hidden;
        }

        .font-orbitron {
            font-family: 'Orbitron', sans-serif;
        }

        /* Efecto Matrix CSS (Lightweight para las miniaturas) */
        .matrix-bg {
            background-color: black;
            background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.9) 50%, transparent 50%),
                linear-gradient(90deg, rgba(0, 255, 0, 0.1) 1px, transparent 1px);
            background-size: 100% 4px, 20px 100%;
            position: relative;
        }

        .matrix-bg::before {
            content: "101010101011001";
            position: absolute;
            color: #0f0;
            opacity: 0.3;
            font-family: monospace;
            animation: matrix-fall 2s infinite linear;
            top: -20px;
        }

        /* Animaciones Históricas */
        @keyframes book-flip {
            0% {
                transform: rotateY(0);
            }

            100% {
                transform: rotateY(-180deg);
            }
        }

        @keyframes glitch-screen {
            0% {
                transform: translate(0);
            }

            20% {
                transform: translate(-2px, 2px);
                filter: hue-rotate(90deg);
            }

            40% {
                transform: translate(2px, -2px);
                filter: invert(1);
            }

            100% {
                transform: translate(0);
            }
        }

        .sim-book-flip:hover .page-content {
            transform-origin: left center;
            animation: book-flip 1s forwards;
        }

        .sim-glitch:hover .page-content {
            animation: glitch-screen 0.2s infinite;
        }

        /* Estilos Base para las simulaciones */
        .sim-window {
            width: 100%;
            height: 200px;
            overflow: hidden;
            position: relative;
            border-top: 1px solid #333;
        }

        .sim-basic {
            background: white;
            color: black;
            font-family: serif;
            padding: 10px;
            display: flex;
            flex-direction: column;
        }

        .sim-dark {
            background: #1a1a1a;
            color: white;
            font-family: sans-serif;
            padding: 10px;
        }

        .sim-matrix {
            background: black;
            color: #ff003c;
            font-family: 'Orbitron';
        }

        .sim-btn {
            padding: 4px 12px;
            border: 1px solid currentColor;
            margin-top: 5px;
            font-size: 0.7rem;
            cursor: pointer;
            display: inline-block;
        }
    </style>
</head>

<body class="min-h-screen pb-20">

    <!-- Navbar -->
    <nav class="sticky top-0 z-50 bg-black/90 border-b border-red-900/30 backdrop-blur-md">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="font-orbitron text-xl text-white"><span class="text-[#ff003c]">S-ØMBRA</span> TIMELINE</h1>
            <div class="flex items-center gap-4">
                <a href="index.html"
                    class="bg-[#ff003c]/20 text-[#ff003c] border border-[#ff003c]/50 px-3 py-1.5 rounded hover:bg-[#ff003c] hover:text-white transition-all duration-300 text-xs font-mono tracking-wider flex items-center gap-2">
                    <i class="fas fa-undo-alt"></i> VOLVER AL REGISTRO
                </a>
                <div class="flex gap-2 text-xs font-mono text-gray-400 hidden sm:flex">
                    <span class="border border-gray-700 px-2 py-1 rounded">CLAUDE 4.5</span>
                    <span class="border border-gray-700 px-2 py-1 rounded">GEMINI 3 PRO</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Supabase Context -->
    <div class="max-w-7xl mx-auto mt-8 px-4">
        <div
            class="border border-[#3ecf8e]/30 bg-[#0a0a0a] rounded-lg p-1 flex flex-col md:flex-row gap-4 overflow-hidden relative">
            <div class="absolute top-0 right-0 p-2 text-[#3ecf8e] text-xs font-mono">SUPABASE CONNECTED</div>
            <div class="w-full md:w-1/3 bg-black p-4 flex flex-col justify-center">
                <h3 class="font-orbitron text-white text-lg">DB SNAPSHOT</h3>
                <p class="text-gray-500 text-xs mt-2">Estado actual de la persistencia de datos. Tabla de usuarios
                    activa.</p>
            </div>
            <div class="w-full md:w-2/3 h-32 md:h-auto bg-gray-900 relative">
                <img src="tabla usada.png" class="w-full h-full object-cover opacity-80 hover:opacity-100 transition"
                    alt="Supabase Table">
            </div>
        </div>
    </div>

    <!-- Timeline Container -->
    <main class="max-w-5xl mx-auto mt-12 px-4 space-y-16" id="timeline-container">
        <!-- JS inyectará las versiones aquí -->
    </main>

    <script>
        // --- BASE DE DATOS DE VERSIONES (Extraída de prompts.txt) ---
        const historyData = [
            {
                version: "v0.1.0",
                date: "2025-12-15 19:18",
                prompt_snippet: "Con las imagenes en orden debes de crear un manga que se leera de derecha a izquierda...",
                title: "Estructura HTML Base",
                description: "HTML puro sin estilos complejos. Lectura derecha-izquierda implementada. Fondo blanco por defecto.",
                simType: "basic", // Define cómo se renderiza la mini web
                features: { rtl: true, login: false, bg: "white" }
            },
            {
                version: "v0.2.5",
                date: "2025-12-15 19:27",
                prompt_snippet: "Al logueo añadele mas estilo y centralo con la pantalla...",
                title: "UI Login & Dark Mode",
                description: "Se añade pantalla de autenticación centrada. Cambio a modo oscuro básico.",
                simType: "dark",
                features: { rtl: true, login: true, bg: "#111" }
            },
            {
                version: "v0.4.0",
                date: "2025-12-15 20:06",
                prompt_snippet: "quiero que las animaciones de pasar paginas simulen lo mejor posible a las de un libro...",
                title: "Física de Libro (Book Flip)",
                description: "Implementación de CSS 3D Transforms para simular papel doblando.",
                simType: "book",
                features: { rtl: true, anim: "flip" }
            },
            {
                version: "v0.5.0",
                date: "2025-12-15 20:22",
                prompt_snippet: "Dale al logeo un fondo como negro y rojo como si fuera codigo pasando por detras...",
                title: "Cyberpunk Aesthetics",
                description: "Introducción de paleta Rojo/Negro y fondo animado tipo código.",
                simType: "cyber",
                features: { rtl: true, matrix: true }
            },
            {
                version: "v0.6.0",
                date: "2025-12-15 20:48",
                prompt_snippet: "dale mejor a la animacion de pasar pagina como si una pantalla fallara en vez de un libro",
                title: "Efecto Glitch & Pivote",
                description: "Se abandona el realismo del libro por una estética digital corrupta (Glitch).",
                simType: "glitch",
                features: { rtl: true, anim: "glitch" }
            },
            {
                version: "v0.7.0",
                date: "2025-12-15 20:55",
                prompt_snippet: "Cuando termines de leer si pasas la pagina crea una sinopsis de lo que seria un capitulo 2...",
                title: "Generación Dinámica",
                description: "El sistema ahora 'imagina' el siguiente capítulo basado en decisiones.",
                simType: "final",
                features: { rtl: true, logic: true }
            }
        ];

        // --- RENDERIZADOR ---
        const container = document.getElementById('timeline-container');

        historyData.forEach((ver, index) => {
            // Generar contenido de la simulación basado en el tipo
            let simContent = '';

            if (ver.simType === 'basic') {
                simContent = `
                    <div class="bg-white text-black h-full p-4 flex flex-row-reverse gap-2">
                        <div class="border border-black p-2 w-1/2 text-center text-xs">PÁGINA 1<br>(Img Placeholder)</div>
                        <div class="border border-black p-2 w-1/2 text-center text-xs">PÁGINA 2<br>(Img Placeholder)</div>
                    </div>
                `;
            } else if (ver.simType === 'dark') {
                simContent = `
                    <div class="bg-gray-900 text-white h-full flex items-center justify-center">
                        <div class="border border-gray-600 p-4 rounded text-center">
                            <h4 class="mb-2">LOGIN</h4>
                            <input type="text" placeholder="User" class="bg-gray-800 border border-gray-700 px-2 py-1 text-xs mb-2 block w-full">
                            <button class="bg-blue-600 text-white px-3 py-1 text-xs rounded">ENTRAR</button>
                        </div>
                    </div>
                `;
            } else if (ver.simType === 'book') {
                simContent = `
                    <div class="bg-[#1a1a1a] h-full flex items-center justify-center relative sim-book-flip cursor-pointer group">
                        <div class="absolute text-white/50 text-xs top-2">Hover me!</div>
                        <div class="w-32 h-40 bg-white text-black p-2 shadow-xl page-content" style="transform-style: preserve-3d; transition: transform 1s;">
                            <div class="text-[8px] mt-2">Lorem ipsum dolor sit amet...</div>
                            <div class="w-full h-20 bg-gray-300 mt-2"></div>
                        </div>
                    </div>
                `;
            } else if (ver.simType === 'cyber') {
                simContent = `
                    <div class="bg-black h-full flex items-center justify-center relative overflow-hidden matrix-bg">
                        <div class="z-10 border border-red-600 bg-black/80 p-4 text-center backdrop-blur-sm">
                            <h4 class="text-[#ff003c] font-orbitron text-sm mb-2">S-ØMBRA</h4>
                            <div class="text-xs text-red-400 animate-pulse">SYSTEM ONLINE</div>
                        </div>
                    </div>
                `;
            } else if (ver.simType === 'glitch') {
                simContent = `
                    <div class="bg-black h-full flex items-center justify-center relative sim-glitch cursor-pointer">
                        <div class="absolute text-red-500/50 text-xs top-2 font-mono">Hover to Glitch</div>
                        <div class="w-32 h-40 border border-red-500 text-red-500 p-2 page-content flex flex-col justify-between">
                            <div class="text-[8px] font-mono">ERROR: 0x5F</div>
                            <div class="w-full h-20 bg-red-900/20 flex items-center justify-center">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                simContent = `
                    <div class="bg-black h-full flex flex-col items-center justify-center relative matrix-bg">
                        <div class="text-[#ff003c] font-orbitron text-lg">FINAL BUILD</div>
                        <div class="text-xs text-gray-500 mt-2">Cap. 2 Generado</div>
                    </div>
                `;
            }

            // HTML de la Tarjeta
            const card = `
                <div class="flex flex-col md:flex-row gap-6 items-stretch group">
                    <!-- Columna Info (Prompt) -->
                    <div class="w-full md:w-1/2 space-y-3">
                        <div class="flex items-center gap-3">
                            <span class="text-4xl font-bold text-gray-800 group-hover:text-[#ff003c] transition-colors font-orbitron">${index + 1}</span>
                            <div>
                                <h2 class="text-xl font-bold text-white">${ver.title}</h2>
                                <span class="text-xs text-[#ff003c] font-mono">${ver.version} | ${ver.date}</span>
                            </div>
                        </div>
                        
                        <div class="bg-gray-900/50 p-3 rounded border-l-2 border-[#ff003c]">
                            <p class="text-gray-400 text-sm leading-relaxed">${ver.description}</p>
                        </div>

                        <div class="bg-black p-3 rounded border border-gray-800 font-mono text-xs text-gray-500 relative overflow-hidden">
                            <div class="absolute top-0 right-0 bg-gray-800 text-white px-1 text-[9px]">PROMPT</div>
                            <p class="truncate text-green-700">"$ ${ver.prompt_snippet}"</p>
                        </div>
                    </div>

                    <!-- Columna Visual (Mini Web) -->
                    <div class="w-full md:w-1/2">
                        <div class="browser-mockup border border-gray-700 rounded-lg overflow-hidden shadow-lg transition-all duration-300 hover:scale-[1.02] hover:shadow-red-900/20 hover:border-red-500/50">
                            <!-- Header Navegador -->
                            <div class="bg-[#151515] p-2 flex items-center gap-2 border-b border-gray-800">
                                <div class="flex gap-1.5">
                                    <div class="w-2.5 h-2.5 rounded-full bg-red-500"></div>
                                    <div class="w-2.5 h-2.5 rounded-full bg-yellow-500"></div>
                                    <div class="w-2.5 h-2.5 rounded-full bg-green-500"></div>
                                </div>
                                <div class="flex-1 bg-black rounded px-2 py-0.5 text-[10px] text-gray-500 font-mono text-center">
                                    localhost:8080/${ver.version}
                                </div>
                            </div>
                            
                            <!-- Contenido Simulado -->
                            <div class="sim-window">
                                ${simContent}
                            </div>
                        </div>
                    </div>
                </div>
                
                ${index < historyData.length - 1 ? '<div class="w-full h-px bg-gradient-to-r from-transparent via-gray-800 to-transparent"></div>' : ''}
            `;

            container.innerHTML += card;
        });
    </script>
</body>

</html>